package org.example;


import java.util.HashSet;

public class Main {
    public static void main(String[] args) {

    }

    /**
     * Подсчитывает количество различных целых чисел в массиве `nums`,
     * учитывая также все числа, полученные путём реверса их цифр.
     *
     * Пример:
     *  nums = [1, 13, 10, 31]
     *  → числа + их реверсы: [1, 13, 10, 31, 31, 13, 1, 13]
     *  → уникальные: {1, 10, 13, 31}
     *  → результат: 4
     *
     * Алгоритм:
     *  1. Создаётся множество (HashSet) для хранения уникальных чисел.
     *  2. Для каждого числа в массиве:
     *      a) добавляем само число;
     *      b) добавляем число, полученное реверсом его цифр.
     *  3. Размер множества = количество различных значений.
     *
     * Сложность:
     *  - Время: O(n * d), где d — количество цифр в числе (для реверса).
     *  - Память: O(n), для множества уникальных чисел.
     *
     * @param nums массив целых чисел
     * @return количество различных чисел, включая реверсы
     */
    public int countDistinctIntegers(int[] nums) {
        HashSet<Integer> set = new HashSet<>();

        for (int i = 0; i < nums.length; i++) {
            set.add(nums[i]);                 // исходное число
            set.add(reverseDigits(nums[i]));  // его реверс
        }

        return set.size(); // итоговое количество уникальных
    }

    /**
     * Разворачивает цифры целого числа `x`.
     *
     * Пример:
     *  reverseDigits(123) → 321
     *  reverseDigits(400) → 4
     *  reverseDigits(10)  → 1
     *
     * Алгоритм:
     *  1. Инициализировать rev = 0.
     *  2. Пока x ≠ 0:
     *      a) Взять последнюю цифру: digit = x % 10.
     *      b) Уменьшить x: x = x / 10.
     *      c) Добавить цифру в конец rev: rev = rev * 10 + digit.
     *  3. Вернуть rev.
     *
     * @param x исходное число
     * @return число с перевёрнутыми цифрами
     */
    private int reverseDigits(int x) {
        int rev = 0;
        while (x != 0) {
            int digit = x % 10;
            x = x / 10;
            rev = rev * 10 + digit;
        }
        return rev;
    }

}